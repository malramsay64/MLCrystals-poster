\ProvidesPackage{beamerthemeusyd}  % this style was created by Malcolm Ramsay

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\selectcolormodel{cmyk}
\RequirePackage{setspace}
\RequirePackage{tcolorbox}

\mode<presentation>

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% USYD Masterbrand colours
\definecolor{usydred}{RGB}{230,70,38}
\definecolor{usydwhite}{RGB}{255,255,255}
\definecolor{usydcharcoal}{RGB}{66,66,66}
\definecolor{usydblack}{RGB}{10,10,10}

% USYD Supportive colours
\definecolor{usydyellow}{RGB}{255,184,0}
\definecolor{usydblue}{RGB}{1,72,164}
\definecolor{usydgrey}{RGB}{241,241,241}

\setbeamercolor*{palette primary}{bg=usydred,fg=usydwhite}
\setbeamercolor*{palette secondary}{bg=usydred,fg=usydblack}
\setbeamercolor*{palette tertiary}{bg=usydwhite,fg=usydred}
\setbeamercolor*{palette tertiary}{bg=usydwhite,fg=usydblack}

\setbeamercolor*{title page header}{fg=white}
\setbeamercolor*{author}{fg=white}
\setbeamercolor*{date}{fg=white}

\setbeamercolor*{structure}{fg=usydred}

\setbeamercolor*{titlelike}{fg=usydwhite, bg=usydred}
\setbeamercolor*{subtitle}{parent=title, fg=usydblack}
\setbeamercolor*{author}{parent=title, fg=usydblack}
\setbeamercolor*{date}{parent=title, fg=usydblack}
\setbeamercolor*{frametitle}{fg=usydred,  bg=usydwhite}

\setbeamercolor*{block title}{fg=usydwhite, bg=usydred}
\setbeamercolor*{block body}{fg=usydblack, bg=usydred!20}

\setbeamercolor*{headline}{fg=usydwhite,bg=usydred}
\setbeamercolor{footline}{fg=usydred, bg=usydwhite}
\setbeamerfont{footline}{size=\large,series=\tt}
\setbeamercolor{separation line}{bg=usydred}
\setbeamercolor{title in headline}{fg=usydwhite}
\setbeamercolor{author in headline}{fg=usydblack}
\setbeamercolor{institute in headline}{fg=usydblack}

\setbeamercolor{framesubtitle}{fg=usydwhite, bg=usydred}
\setbeamercolor{author in head/foot}{fg=usydwhite, bg=usydred}

\setbeamercolor*{normal text}{fg=usydblack, bg=usydwhite}
\setbeamercolor*{block body}{bg=usydred!20}
\setbeamercolor*{block title}{fg=usydwhite,bg=usydred}
\setbeamerfont{block title}{size=\large,series=\bf}
\setbeamercolor{upper separation line head}{fg=usydwhite}

\setbeamercolor*{example body}{fg=usydblack,bg=usydwhite}
\setbeamercolor*{example text}{fg=usydblack,bg=usydwhite}
\setbeamercolor*{example title}{bg=usydred,fg=usydwhite}

\setbeamercolor{structure}{fg=usydred}

\setbeamertemplate{itemize items}[triangle]
\setbeamertemplate{navigation symbols}{}  % no navigation on a poster

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%


\defbeamertemplate*{block begin}{bordered}{%
  \tcbset{colframe=usydred,boxsep=0.3em,boxrule=0.2em,colback=usydwhite,fonttitle=\bfseries}
  \begin{tcolorbox}[title=\insertblocktitle]
}

\defbeamertemplate*{block end}{borderd}{%
  \end{tcolorbox}
  \vspace{1em}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\setbeamertemplate{headline}{

  \begin{beamercolorbox}[wd=\paperwidth]{headline}
    \begin{columns}
      \begin{column}{0.2\linewidth}
      \end{column}
      \begin{column}{0.6\linewidth}
        \vspace{3em}
        \begin{center}
          \usebeamercolor{title in headline}{\color{fg}\textbf{\LARGE{\inserttitle}}\\[2em]}
          \usebeamercolor{author in headline}{\color{fg}\large{\insertauthor}\\[0.5em]}
          \usebeamercolor{institute in headline}{\color{fg}\large{\insertinstitute}\\[0.5em]}
        \end{center}
        \vspace{1em}
      \end{column}
      \begin{column}{0.2\linewidth}
        \vspace{-6em}\\
        \includegraphics[width=0.8\linewidth]{USYDLogo}
      \end{column}
    \end{columns}
  \end{beamercolorbox}

  \begin{beamercolorbox}[wd=\paperwidth]{lower separation line head}
  \end{beamercolorbox}
}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\setbeamertemplate{footline}{
  \begin{beamercolorbox}[wd=\paperwidth]{upper separation line foot}
  \end{beamercolorbox}

  \leavevmode%
  \begin{beamercolorbox}[ht=4ex,leftskip=1em,rightskip=1em]{author in head/foot}%
    \hfill
    \vskip1ex
  \end{beamercolorbox}
  \vskip0pt%
  \begin{beamercolorbox}[wd=\paperwidth]{lower separation line foot}
  \end{beamercolorbox}
}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Display a grid to help align images ... and it looks nice with this color scheme
%\beamertemplategridbackground[1cm]

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\mode<all>

% adapt height of imtemize rectangles
\setbeamertemplate{itemize items}[triangle]
\setbeamertemplate{itemize item}{\raisebox{0.12ex}{$\blacktriangleright$}\hskip0.1em}
\setbeamertemplate{itemize subitem}{\raisebox{0.12ex}{$\triangleright$}\hskip0.1em}
% or define your own template using \defbeamertemplate{itemize item}, see beameruserguide.pdf

% equal font sizes for all levels
\setbeamerfont{itemize/enumerate body}{size=\normalsize}
\setbeamerfont{itemize/enumerate subbody}{size=\normalsize}
\setbeamerfont{itemize/enumerate subsubbody}{size=\normalsize}

